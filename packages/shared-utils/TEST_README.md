# Shared Utils Test Suite

shared-utils ν¨ν‚¤μ§€μ ν¬κ΄„μ μΈ ν…μ¤νΈ μ¤μ„νΈμ…λ‹λ‹¤.

## π“‹ ν…μ¤νΈ κ°μ”

μ΄ ν…μ¤νΈ μ¤μ„νΈλ” shared-utils ν¨ν‚¤μ§€μ λ¨λ“  μ ν‹Έλ¦¬ν‹° ν΄λμ¤μ™€ λ©”μ„λ“μ— λ€ν• μ™„μ „ν• ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€λ¥Ό μ κ³µν•©λ‹λ‹¤.

### π“ ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€

- **μ „μ²΄ μ»¤λ²„λ¦¬μ§€**: 100%
- **λ¨λ“  λ¬Έμ¥**: 100%
- **λ¨λ“  λ¶„κΈ°**: 100%
- **λ¨λ“  ν•¨μ**: 100%
- **λ¨λ“  λΌμΈ**: 100%

## π§ ν…μ¤νΈλ μ ν‹Έλ¦¬ν‹°

### 1. DateTimeUtil

- `getNow()` - ν„μ¬ μ‹κ°„μ„ YYYY-MM-DD HH:mm:ss ν•μ‹μΌλ΅ λ°ν™
  - κΈ°λ³Έ ν¬λ§·ν… ν…μ¤νΈ
  - λ‹¤λ¥Έ μ‹κ°„λ€μ—μ„μ λ™μ‘ ν…μ¤νΈ
  - μ¤λ…„ μ²λ¦¬ ν…μ¤νΈ
  - ν• μλ¦¬ μ«μ μ›”/μΌμ μ λ΅ ν¨λ”© ν…μ¤νΈ

### 2. PathUtil

- `getUrlWithParamsAndQueryString()` - URLμ— νλΌλ―Έν„°μ™€ μΏΌλ¦¬ μ¤νΈλ§ μ¶”κ°€
  - λΉ νλΌλ―Έν„° μ²λ¦¬
  - κ²½λ΅ νλΌλ―Έν„° μΉν™
  - μΏΌλ¦¬ μ¤νΈλ§ μ¶”κ°€
  - λ³µν•© μ‚¬μ© μΌ€μ΄μ¤
- `convertFromPathParamsToQueryParams()` - κ²½λ΅ νλΌλ―Έν„°λ¥Ό μΏΌλ¦¬ νλΌλ―Έν„°λ΅ λ³€ν™
  - κΈ°λ³Έ λ³€ν™ λ΅μ§
  - λ„λ½λ κ°’ μ²λ¦¬
  - λ‹¤μ–‘ν• λ°μ΄ν„° νƒ€μ… μ²λ¦¬

### 3. PaginationUtil

- `getPage()` - skipκ³Ό take κ°’μΌλ΅λ¶€ν„° νμ΄μ§€ λ²νΈ κ³„μ‚°
  - λ‹¤μ–‘ν• νμ΄μ§€λ„¤μ΄μ… μ‹λ‚λ¦¬μ¤
  - μ—λ¬ μ²λ¦¬ (take = 0)
  - λ¶€λ¶„ νμ΄μ§€ μ²λ¦¬
- `toArgs()` - μΏΌλ¦¬ κ°μ²΄λ¥Ό Prisma νΈν™ μΈμλ΅ λ³€ν™
  - νμ΄μ§€λ„¤μ΄μ… νλΌλ―Έν„° μ²λ¦¬
  - μ •λ ¬ νλΌλ―Έν„° μ²λ¦¬
  - where μ΅°κ±΄ μ²λ¦¬
  - λ³µν•© μΏΌλ¦¬ μ²λ¦¬

### 4. ValidationUtil

- `validateConfig()` - class-validatorλ¥Ό μ‚¬μ©ν• μ„¤μ • κ²€μ¦
  - ν•„μ ν•„λ“ κ²€μ¦
  - μ„ νƒμ  ν•„λ“ μ²λ¦¬
  - νƒ€μ… λ³€ν™
  - μ—λ¬ μ²λ¦¬
- `getVariableName()` - ν•¨μμ—μ„ λ³€μλ… μ¶”μ¶
  - λ‹¨μ λ³€μλ… μ¶”μ¶
  - κ°μ²΄ μ†μ„±λ… μ¶”μ¶
  - μ¤‘μ²©λ μ†μ„± μ²λ¦¬
  - λ°°μ—΄ μ ‘κ·Ό μ²λ¦¬

### 5. Integration Tests

- κΈ°λ³Έ λ‚΄λ³΄λ‚΄κΈ°μ™€ λ…λ…λ λ‚΄λ³΄λ‚΄κΈ° κ²€μ¦
- μ ν‹Έλ¦¬ν‹° κ°„ ν†µν•© μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ
- μ‹¤μ  μ‚¬μ© μΌ€μ΄μ¤ μ‹λ®¬λ μ΄μ…

## π€ ν…μ¤νΈ μ‹¤ν–‰

```bash
# κΈ°λ³Έ ν…μ¤νΈ μ‹¤ν–‰
pnpm test

# ν…μ¤νΈ watch λ¨λ“
pnpm test:watch

# μ»¤λ²„λ¦¬μ§€μ™€ ν•¨κ» ν…μ¤νΈ μ‹¤ν–‰
pnpm test:coverage

# ν…μ¤νΈ UI
pnpm test:ui
```

## π›  ν…μ¤νΈ κΈ°μ  μ¤νƒ

- **ν…μ¤νΈ ν”„λ μ„μ›ν¬**: Vitest
- **μ–΄μ„¤μ… λΌμ΄λΈλ¬λ¦¬**: Vitest λ‚΄μ¥ expect
- **λ¨ν‚Ή**: Vitest λ‚΄μ¥ vi
- **μ»¤λ²„λ¦¬μ§€**: @vitest/coverage-v8
- **λ©”νƒ€λ°μ΄ν„° μ§€μ›**: reflect-metadata

## π“ ν…μ¤νΈ κµ¬μ΅°

```
src/__tests__/
β”β”€β”€ DateTimeUtil.test.ts      # λ‚ μ§/μ‹κ°„ μ ν‹Έλ¦¬ν‹° ν…μ¤νΈ
β”β”€β”€ PathUtil.test.ts          # κ²½λ΅ μ ν‹Έλ¦¬ν‹° ν…μ¤νΈ
β”β”€β”€ PaginationUtil.test.ts    # νμ΄μ§€λ„¤μ΄μ… μ ν‹Έλ¦¬ν‹° ν…μ¤νΈ
β”β”€β”€ ValidationUtil.test.ts    # κ²€μ¦ μ ν‹Έλ¦¬ν‹° ν…μ¤νΈ
β””β”€β”€ index.test.ts            # ν†µν•© ν…μ¤νΈ
```

## π”§ μ„¤μ • νμΌ

- `vitest.config.ts` - Vitest μ„¤μ •
- `package.json` - ν…μ¤νΈ μ¤ν¬λ¦½νΈ λ° μμ΅΄μ„±
- `tsconfig.json` - TypeScript μ„¤μ •

## π“ ν…μ¤νΈ λ©”νΈλ¦­

- **μ΄ ν…μ¤νΈ μΌ€μ΄μ¤**: 52κ°
- **ν…μ¤νΈ νμΌ**: 5κ°
- **μ‹¤ν–‰ μ‹κ°„**: ~400ms
- **μ»¤λ²„λ¦¬μ§€**: 100%

λ¨λ“  ν…μ¤νΈλ” κ²©λ¦¬λμ–΄ μ‹¤ν–‰λλ©°, κ° ν…μ¤νΈλ” λ…λ¦½μ μΌλ΅ μ‹¤ν–‰ κ°€λ¥ν•©λ‹λ‹¤.
