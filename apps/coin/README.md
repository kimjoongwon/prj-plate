# Coin - ë¸”ë¡ì²´ì¸ ë©€í‹°ì‹œê·¸ ìì‚° ê´€ë¦¬ ì„œë¹„ìŠ¤

> Safe(Gnosis Safe) í”„ë¡œí† ì½œ ê¸°ë°˜ì˜ ê¸°ì—…ìš© ë©€í‹°ì‹œê·¸ ì§€ê°‘ ì†¡ê¸ˆ ì‹œìŠ¤í…œ

---

## ğŸ“‹ ëª©ì°¨

- [ì„œë¹„ìŠ¤ ê°œìš”](#-ì„œë¹„ìŠ¤-ê°œìš”)
- [í•µì‹¬ ê¸°ëŠ¥](#-í•µì‹¬-ê¸°ëŠ¥)
- [ë³´ì•ˆ ì„¤ê³„](#-ë³´ì•ˆ-ì„¤ê³„)
- [ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸](#-ìŠ¤ë§ˆíŠ¸-ì»¨íŠ¸ë™íŠ¸)
- [ì¸í”„ë¼ êµ¬ì¡°](#-ì¸í”„ë¼-êµ¬ì¡°)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì•„í‚¤í…ì²˜](#-ì•„í‚¤í…ì²˜)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [í™˜ê²½ ì„¤ì •](#-í™˜ê²½-ì„¤ì •)
- [í…ŒìŠ¤íŠ¸](#-í…ŒìŠ¤íŠ¸)
- [ë°°í¬ ê°€ì´ë“œ](#-ë°°í¬-ê°€ì´ë“œ)

---

## ğŸ¯ ì„œë¹„ìŠ¤ ê°œìš”

**Coin**ì€ ê¸°ì—… ë° ì¡°ì§ì˜ ë””ì§€í„¸ ìì‚°ì„ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ **ë©€í‹°ì‹œê·¸(ë‹¤ì¤‘ì„œëª…) ì§€ê°‘ ì„œë¹„ìŠ¤**ì…ë‹ˆë‹¤.

### ë¹„ì¦ˆë‹ˆìŠ¤ ëª©ì 

- **ìì‚° ë³´í˜¸**: ë‹¨ì¼ í‚¤ ë¶„ì‹¤/íƒˆì·¨ ì‹œì—ë„ ìì‚° ë³´í˜¸
- **ë‚´ë¶€ í†µì œ**: ì†¡ê¸ˆ ì‹œ ë³µìˆ˜ ìŠ¹ì¸ì í•„ìš”ë¡œ íš¡ë ¹ ë°©ì§€
- **ê°ì‚¬ ì¶”ì **: ëª¨ë“  íŠ¸ëœì­ì…˜ ì´ë ¥ ë¸”ë¡ì²´ì¸ì— ì˜êµ¬ ê¸°ë¡
- **ê·œì • ì¤€ìˆ˜**: ê¸°ì—… ìê¸ˆ ê´€ë¦¬ ì •ì±… ê¸°ìˆ ì  ê°•ì œ

### ëŒ€ìƒ ê³ ê°

| ê³ ê° ìœ í˜•     | ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤                  |
| ------------- | ------------------------------ |
| ìŠ¤íƒ€íŠ¸ì—…      | ë²•ì¸ ìê¸ˆ ê´€ë¦¬, íˆ¬ìê¸ˆ ì§‘í–‰    |
| DAO/ì»¤ë®¤ë‹ˆí‹°  | ê³µë™ ìê¸ˆ ê´€ë¦¬, ì œì•ˆ ê¸°ë°˜ ì§‘í–‰ |
| ê±°ë˜ì†Œ/ìˆ˜íƒì‚¬ | ê³ ê° ìì‚° ì½œë“œì›”ë › ê´€ë¦¬        |
| NFT í”„ë¡œì íŠ¸  | ë¡œì—´í‹° ìˆ˜ìµ ë¶„ë°°               |

---

## âœ¨ í•µì‹¬ ê¸°ëŠ¥

### ì§€ê°‘ ì—°ê²°

- wagmi connectorsë¥¼ í†µí•œ MetaMask ì§€ê°‘ ì—°ê²°
- Ethereum Mainnet ë° Sepolia í…ŒìŠ¤íŠ¸ë„· ì§€ì›

### Safe ìƒì„±

- 3ëª…ì˜ ì„œëª…ì(threshold=3)ë¡œ êµ¬ì„±ëœ ë©€í‹°ì‹œê·¸ Safe ìƒì„±
- ì»¤ìŠ¤í…€ ì†Œìœ ì ë° threshold ì„¤ì • ê°€ëŠ¥

### ì†¡ê¸ˆ ê¸°ëŠ¥

- ETH ë„¤ì´í‹°ë¸Œ í† í° ì†¡ê¸ˆ
- ERC-20 í† í° ì†¡ê¸ˆ ì§€ì›
- íŠ¸ëœì­ì…˜ ì œì•ˆ ë° ëŒ€ê¸°ì—´ ê´€ë¦¬

### ë©€í‹°ì‹œê·¸ ì„œëª…

- ëŒ€ê¸° ì¤‘ì¸ íŠ¸ëœì­ì…˜ ëª©ë¡ ì¡°íšŒ
- ê° ì„œëª…ìë³„ ìŠ¹ì¸/ê±°ë¶€
- ì‹¤ì‹œê°„ ì„œëª… ìƒíƒœ í™•ì¸

### íŠ¸ëœì­ì…˜ ì‹¤í–‰

- threshold ì¶©ì¡± ì‹œ ì˜¨ì²´ì¸ ì‹¤í–‰
- íŠ¸ëœì­ì…˜ í•´ì‹œ ë° ìƒíƒœ ì¶”ì 
- Etherscan ë§í¬ ì œê³µ

---

## ğŸ”’ ë³´ì•ˆ ì„¤ê³„

### ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë³´ì•ˆ íŒ¨í„´

#### 1. CEI íŒ¨í„´ (Checks-Effects-Interactions)

```solidity
function withdraw(uint256 amount) external {
    // 1. Checks - ì¡°ê±´ í™•ì¸
    require(balances[msg.sender] >= amount, "Insufficient");

    // 2. Effects - ìƒíƒœ ë¨¼ì € ë³€ê²½
    balances[msg.sender] -= amount;

    // 3. Interactions - ì™¸ë¶€ í˜¸ì¶œ ë§ˆì§€ë§‰
    (bool success, ) = msg.sender.call{value: amount}("");
    require(success, "Transfer failed");
}
```

#### 2. ReentrancyGuard

ì™¸ë¶€ë¡œ ìì‚°ì„ ì „ì†¡í•˜ëŠ” ëª¨ë“  í•¨ìˆ˜ì— ì¬ì§„ì… ê³µê²© ë°©ì§€ ì ìš©:

```solidity
import "@openzeppelin/contracts/security/ReentrancyGuard.sol";

function withdraw() external nonReentrant {
    // ì•ˆì „í•œ ì¶œê¸ˆ ë¡œì§
}
```

#### 3. Pull over Push íŒ¨í„´

ìê¸ˆì„ ì§ì ‘ ì „ì†¡í•˜ì§€ ì•Šê³  ì”ê³  ê¸°ë¡ í›„ ìˆ˜ì‹ ìê°€ ì§ì ‘ ì¶œê¸ˆ:

```solidity
// ì”ê³  ê¸°ë¡ (Push ì•„ë‹˜)
mapping(address => uint256) public rewards;

// ìˆ˜ì‹ ìê°€ ì§ì ‘ ì¶œê¸ˆ (Pull)
function claimReward() external {
    uint256 amount = rewards[msg.sender];
    rewards[msg.sender] = 0;
    payable(msg.sender).transfer(amount);
}
```

### í”„ë¡ íŠ¸ì—”ë“œ ë³´ì•ˆ

| í•­ëª©            | ì ìš© ë°©ì‹                        |
| --------------- | -------------------------------- |
| íŠ¸ëœì­ì…˜ ìƒíƒœ   | Pessimistic UI (í™•ì • í›„ UI ë³€ê²½) |
| ì§€ê°‘ í´ë¼ì´ì–¸íŠ¸ | ì•¡ì…˜ ì‹œì ì— getWalletClient í˜¸ì¶œ |
| ì—ëŸ¬ ì²˜ë¦¬       | ìƒí™©ë³„ ëª…í™•í•œ ë©”ì‹œì§€ ì œê³µ        |

### í‚¤ ê´€ë¦¬

- **AWS KMS**: ì„œë²„ ì¸¡ ì•”í˜¸í™” í‚¤ ê´€ë¦¬
- **Secrets Manager**: DB ë¹„ë°€ë²ˆí˜¸, API í‚¤ ì €ì¥
- **í´ë¼ì´ì–¸íŠ¸ í‚¤**: ì‚¬ìš©ì ì§€ê°‘ì—ì„œë§Œ ê´€ë¦¬ (ì„œë²„ ë¯¸ë³´ê´€)

---

## ğŸ“œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸

### Safe ì»¨íŠ¸ë™íŠ¸ (Gnosis Safe)

ë³¸ ì„œë¹„ìŠ¤ëŠ” [Safe Global](https://safe.global/)ì˜ ê²€ì¦ëœ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ í™œìš©í•©ë‹ˆë‹¤.

| í•­ëª©          | ë‚´ìš©                      |
| ------------- | ------------------------- |
| í”„ë¡œí† ì½œ      | Safe (êµ¬ Gnosis Safe)     |
| ì»¨íŠ¸ë™íŠ¸ ë²„ì „ | v1.4.1                    |
| ê°ì‚¬ ìƒíƒœ     | ë‹¤ìˆ˜ ì™¸ë¶€ ê°ì‚¬ ì™„ë£Œ       |
| ë„¤íŠ¸ì›Œí¬      | Ethereum Mainnet, Sepolia |

### ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ (Mainnet)

```
Safe Singleton: 0x41675C099F32341bf84BFc5382aF534df5C7461a
Safe Proxy Factory: 0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67
MultiSend: 0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526
```

### Safe Transaction Service API

| ë„¤íŠ¸ì›Œí¬ | URL                                          |
| -------- | -------------------------------------------- |
| Mainnet  | https://safe-transaction-mainnet.safe.global |
| Sepolia  | https://safe-transaction-sepolia.safe.global |

---

## ğŸ— ì¸í”„ë¼ êµ¬ì¡°

### í˜„ì¬ ì•„í‚¤í…ì²˜ (MVP)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Client                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   Next.js App   â”‚â”€â”€â”€â–¶â”‚   MetaMask      â”‚                 â”‚
â”‚  â”‚   (Vercel)      â”‚    â”‚   Wallet        â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚           â”‚                      â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                      â”‚
            â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Safe Transaction  â”‚    â”‚         Ethereum Network          â”‚
â”‚ Service (API)     â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                   â”‚    â”‚  â”‚      Safe Contract          â”‚  â”‚
â”‚ - íŠ¸ëœì­ì…˜ ëŒ€ê¸°ì—´  â”‚    â”‚  â”‚   (Multisig Wallet)         â”‚  â”‚
â”‚ - ì„œëª… ìˆ˜ì§‘       â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ - ì´ë ¥ ì¡°íšŒ       â”‚    â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í”„ë¡œë•ì…˜ ì•„í‚¤í…ì²˜ (AWS ì „í™˜ ì‹œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AWS Cloud                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        VPC                                 â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚   â”‚ CloudFront  â”‚â”€â”€â”€â–¶â”‚     ALB     â”‚â”€â”€â”€â–¶â”‚ ECS Fargate â”‚   â”‚  â”‚
â”‚  â”‚   â”‚   (CDN)     â”‚    â”‚             â”‚    â”‚             â”‚   â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚  â”‚
â”‚  â”‚                                         â”‚ â”‚ Next.js â”‚ â”‚   â”‚  â”‚
â”‚  â”‚                                         â”‚ â”‚ NestJS  â”‚ â”‚   â”‚  â”‚
â”‚  â”‚                                         â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚   â”‚  â”‚
â”‚  â”‚                                         â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                â”‚          â”‚  â”‚
â”‚  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚         â”‚                Private Subnet        â–¼    â”‚     â”‚  â”‚
â”‚  â”‚         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â” â”‚     â”‚  â”‚
â”‚  â”‚         â”‚    â”‚   RDS   â”‚    â”‚  Redis  â”‚    â”‚ S3  â”‚ â”‚     â”‚  â”‚
â”‚  â”‚         â”‚    â”‚(Postgres)â”‚   â”‚(ElastiCache)â”‚ â”‚     â”‚ â”‚     â”‚  â”‚
â”‚  â”‚         â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”¬â”€â”€â”˜ â”‚     â”‚  â”‚
â”‚  â”‚         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     â”‚  â”‚
â”‚  â”‚         â”‚                    â”‚                      â”‚     â”‚  â”‚
â”‚  â”‚         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚     â”‚  â”‚
â”‚  â”‚         â”‚         â”‚      AWS KMS        â”‚          â”‚     â”‚  â”‚
â”‚  â”‚         â”‚         â”‚  (ì•”í˜¸í™” í‚¤ ê´€ë¦¬)    â”‚          â”‚     â”‚  â”‚
â”‚  â”‚         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚     â”‚  â”‚
â”‚  â”‚         â”‚                    â”‚                      â”‚     â”‚  â”‚
â”‚  â”‚         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚     â”‚  â”‚
â”‚  â”‚         â”‚         â”‚  Secrets Manager    â”‚          â”‚     â”‚  â”‚
â”‚  â”‚         â”‚         â”‚ (DBë¹„ë°€ë²ˆí˜¸, APIí‚¤) â”‚          â”‚     â”‚  â”‚
â”‚  â”‚         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚     â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Route 53    â”‚  â”‚ CloudWatch  â”‚  â”‚ IAM (ì—­í•  ê¸°ë°˜ ì ‘ê·¼)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì¸í”„ë¼ ì „í™˜ ì „ëµ

| ë‹¨ê³„ | í˜„ì¬   | ëª©í‘œ                  | ë¹„ê³             |
| ---- | ------ | --------------------- | --------------- |
| 1    | Vercel | AWS Amplify/ECS       | í”„ë¡ íŠ¸ì—”ë“œ      |
| 2    | -      | RDS PostgreSQL        | ë°ì´í„°ë² ì´ìŠ¤    |
| 3    | -      | ElastiCache           | Redis ì„¸ì…˜/í† í° |
| 4    | -      | KMS + Secrets Manager | í‚¤ ê´€ë¦¬         |

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„       | ê¸°ìˆ                       | ë²„ì „   | ì„¤ëª…                           |
| ---------- | ------------------------- | ------ | ------------------------------ |
| í”„ë ˆì„ì›Œí¬ | Next.js                   | 16     | App Router ì‚¬ìš©                |
| ë¹Œë“œ ë„êµ¬  | Turbopack                 | latest | ê³ ì† ë²ˆë“¤ë§                    |
| ìƒíƒœ ê´€ë¦¬  | MobX                      | 6.x    | ë°˜ì‘í˜• ìƒíƒœ ê´€ë¦¬               |
| Web3       | wagmi                     | v2     | React Hooks for Ethereum       |
| Web3       | viem                      | v2     | TypeScript Ethereum ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| ì§€ê°‘ ì—°ê²°  | wagmi connectors          | -      | injected (MetaMask)            |
| Safe SDK   | @safe-global/protocol-kit | latest | Safe ì»¨íŠ¸ë™íŠ¸ ìƒí˜¸ì‘ìš©         |
| Safe SDK   | @safe-global/api-kit      | latest | Safe Transaction Service       |
| ìŠ¤íƒ€ì¼ë§   | Tailwind CSS              | 4.x    | ìœ í‹¸ë¦¬í‹° CSS                   |
| ë„¤íŠ¸ì›Œí¬   | Ethereum                  | -      | Mainnet, Sepolia               |

---

## ğŸ“ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph Frontend
        UI[UI Components]
        Stores[MobX Stores]
        Services[Services]
    end

    subgraph External
        Wallet[Web3 Wallet]
        SafeSDK[Safe SDK]
        SafeAPI[Safe Transaction Service]
        Blockchain[Ethereum Network]
    end

    UI --> Stores
    Stores --> Services
    Services --> SafeSDK
    Services --> SafeAPI
    SafeSDK --> Blockchain
    UI --> Wallet
    Wallet --> Blockchain
```

### ë©€í‹°ì‹œê·¸ ì›Œí¬í”Œë¡œìš°

```mermaid
sequenceDiagram
    participant User1 as ì„œëª…ì 1
    participant User2 as ì„œëª…ì 2
    participant User3 as ì„œëª…ì 3
    participant Safe as Safe Contract
    participant API as Safe Transaction Service

    User1->>Safe: Safe ìƒì„± (threshold=3)
    Safe-->>User1: Safe ì£¼ì†Œ ë°˜í™˜

    User1->>API: íŠ¸ëœì­ì…˜ ì œì•ˆ
    User1->>API: ì„œëª… 1 ì œì¶œ
    User2->>API: ì„œëª… 2 ì œì¶œ
    User3->>API: ì„œëª… 3 ì œì¶œ

    Note over API: threshold ì¶©ì¡± (3/3)

    User3->>Safe: íŠ¸ëœì­ì…˜ ì‹¤í–‰
    Safe-->>User3: ì‹¤í–‰ ì™„ë£Œ
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ app/                          # Next.js App Router í˜ì´ì§€
â”‚   â”œâ”€â”€ page.tsx                  # ë©”ì¸ í˜ì´ì§€ (ì§€ê°‘ ì—°ê²°)
â”‚   â””â”€â”€ safe/
â”‚       â”œâ”€â”€ create/               # Safe ìƒì„± í˜ì´ì§€
â”‚       â”‚   â””â”€â”€ page.tsx
â”‚       â””â”€â”€ [address]/            # Safe ìƒì„¸ í˜ì´ì§€
â”‚           â”œâ”€â”€ page.tsx          # Safe ëŒ€ì‹œë³´ë“œ
â”‚           â”œâ”€â”€ send/             # ì†¡ê¸ˆ í˜ì´ì§€
â”‚           â”‚   â””â”€â”€ page.tsx
â”‚           â””â”€â”€ transactions/     # íŠ¸ëœì­ì…˜ ëª©ë¡ í˜ì´ì§€
â”‚               â””â”€â”€ page.tsx
â”‚
â”œâ”€â”€ components/                   # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ wallet/
â”‚   â”‚   â””â”€â”€ ConnectWalletButton.tsx  # ì§€ê°‘ ì—°ê²° ë²„íŠ¼
â”‚   â””â”€â”€ safe/
â”‚       â”œâ”€â”€ CreateSafeForm.tsx    # Safe ìƒì„± í¼
â”‚       â”œâ”€â”€ SafeDashboard.tsx     # Safe ëŒ€ì‹œë³´ë“œ
â”‚       â”œâ”€â”€ SendForm.tsx          # ì†¡ê¸ˆ í¼
â”‚       â””â”€â”€ TransactionList.tsx   # íŠ¸ëœì­ì…˜ ëª©ë¡
â”‚
â”œâ”€â”€ stores/                       # MobX ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ RootStore.ts              # ë£¨íŠ¸ ìŠ¤í† ì–´
â”‚   â”œâ”€â”€ WalletStore.ts            # ì§€ê°‘ ìƒíƒœ
â”‚   â”œâ”€â”€ SafeStore.ts              # Safe ìƒíƒœ
â”‚   â”œâ”€â”€ TransactionStore.ts       # íŠ¸ëœì­ì…˜ ìƒíƒœ
â”‚   â””â”€â”€ StoreProvider.tsx         # Store Context Provider
â”‚
â”œâ”€â”€ services/                     # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ safe.service.ts           # Safe ìƒì„±/ì¡°íšŒ ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ transaction.service.ts    # íŠ¸ëœì­ì…˜ ìƒì„±/ì„œëª…/ì‹¤í–‰
â”‚
â”œâ”€â”€ providers/                    # React Providers
â”‚   â””â”€â”€ Web3Provider.tsx          # wagmi ì„¤ì •
â”‚
â”œâ”€â”€ config/                       # ì„¤ì • íŒŒì¼
â”‚   â””â”€â”€ web3.config.ts            # ì²´ì¸, Safe ì„¤ì •
â”‚
â””â”€â”€ types/                        # TypeScript íƒ€ì… ì •ì˜
    â””â”€â”€ web3.types.ts
```

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js 20.x ì´ìƒ
- pnpm 10.x ì´ìƒ
- MetaMask ë¸Œë¼ìš°ì € í™•ì¥ ì„¤ì¹˜

### ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pnpm install
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
cp .env.example .env.local
```

```env
# RPC URLs
NEXT_PUBLIC_ETH_RPC_URL=https://mainnet.infura.io/v3/YOUR_KEY
NEXT_PUBLIC_SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_KEY

# WalletConnect (ì„ íƒì‚¬í•­)
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=your_project_id
```

### ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
pnpm dev
```

ë¸Œë¼ìš°ì €ì—ì„œ [http://localhost:3000](http://localhost:3000)ìœ¼ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.

### ë¹Œë“œ

```bash
pnpm build
```

---

## âš™ï¸ í™˜ê²½ ì„¤ì •

### web3.config.ts

`config/web3.config.ts`ì—ì„œ ë„¤íŠ¸ì›Œí¬ ë° Safe ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```typescript
// ì§€ì› ì²´ì¸
export const supportedChains = [mainnet, sepolia] as const;

// Safe ì„¤ì •
export const SAFE_CONFIG = {
  threshold: 3, // í•„ìš”í•œ ì„œëª… ìˆ˜
  ownerCount: 3, // ì†Œìœ ì ìˆ˜
};

// Safe Transaction Service URL
export const SAFE_TX_SERVICE_URL = {
  [mainnet.id]: "https://safe-transaction-mainnet.safe.global",
  [sepolia.id]: "https://safe-transaction-sepolia.safe.global",
};
```

### ì£¼ìš” ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸           | ì—­í•                                           |
| ------------------ | --------------------------------------------- |
| WalletStore        | ì§€ê°‘ ì—°ê²° ìƒíƒœ, ì£¼ì†Œ, ì²´ì¸ ID ê´€ë¦¬            |
| SafeStore          | í˜„ì¬ ì„ íƒëœ Safe ì •ë³´, ì”ì•¡, ì†Œìœ ì ëª©ë¡ ê´€ë¦¬ |
| TransactionStore   | ëŒ€ê¸° ì¤‘ì¸ íŠ¸ëœì­ì…˜, ì„œëª… ìƒíƒœ, ì‹¤í–‰ ìƒíƒœ ê´€ë¦¬ |
| SafeService        | Safe ìƒì„±, ì¡°íšŒ, SDK ì´ˆê¸°í™” ë‹´ë‹¹              |
| TransactionService | ETH/ERC-20 íŠ¸ëœì­ì…˜ ìƒì„±, ì„œëª…, ì‹¤í–‰ ë‹´ë‹¹     |

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ì •ì  ë¶„ì„

```bash
# Slither (ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ì·¨ì•½ì  ë¶„ì„)
pip install slither-analyzer
slither ./contracts/
```

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

```bash
pnpm test
```

### E2E í…ŒìŠ¤íŠ¸ (Sepolia)

1. Sepolia í…ŒìŠ¤íŠ¸ë„· ETH í™•ë³´ (Faucet)
2. MetaMaskë¥¼ Sepoliaë¡œ ì „í™˜
3. Safe ìƒì„± â†’ ì†¡ê¸ˆ â†’ ì„œëª… â†’ ì‹¤í–‰ í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ì§€ê°‘ ì—°ê²°/í•´ì œ
- [ ] Safe ìƒì„± (threshold ì„¤ì •)
- [ ] ETH ì†¡ê¸ˆ íŠ¸ëœì­ì…˜ ìƒì„±
- [ ] ë‹¤ì¤‘ ì„œëª… ìˆ˜ì§‘
- [ ] íŠ¸ëœì­ì…˜ ì‹¤í–‰
- [ ] ì”ì•¡ ì—…ë°ì´íŠ¸ í™•ì¸

---

## ğŸš¢ ë°°í¬ ê°€ì´ë“œ

### Vercel ë°°í¬ (ê¶Œì¥ - MVP)

```bash
# Vercel CLI ì„¤ì¹˜
npm i -g vercel

# ë°°í¬
vercel --prod
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (Vercel Dashboard)

```
NEXT_PUBLIC_ETH_RPC_URL
NEXT_PUBLIC_SEPOLIA_RPC_URL
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID
```

### Docker ë°°í¬

```bash
# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t coin-app:latest -f Dockerfile .

# ì‹¤í–‰
docker run -p 3000:3000 coin-app:latest
```

### AWS ECS ë°°í¬ (í”„ë¡œë•ì…˜)

```bash
# ECRì— í‘¸ì‹œ
aws ecr get-login-password --region ap-northeast-2 | docker login --username AWS --password-stdin <account>.dkr.ecr.ap-northeast-2.amazonaws.com

docker tag coin-app:latest <account>.dkr.ecr.ap-northeast-2.amazonaws.com/coin-app:latest
docker push <account>.dkr.ecr.ap-northeast-2.amazonaws.com/coin-app:latest

# ECS ì„œë¹„ìŠ¤ ì—…ë°ì´íŠ¸
aws ecs update-service --cluster production --service coin-app --force-new-deployment
```

### ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ
- [ ] RPC URL ìœ íš¨ì„± í™•ì¸
- [ ] CORS ì„¤ì • í™•ì¸
- [ ] ë¹Œë“œ ì„±ê³µ í™•ì¸
- [ ] Sepolia í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] Mainnet ì—°ê²° í…ŒìŠ¤íŠ¸
